<Page x:Class="UnityHub.EnginesPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      Title="引擎页面">

    <Grid Width="1080">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 引擎页面标题和按钮 -->
        <Grid Grid.Row="0" Margin="20,20,20,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <TextBlock Grid.Column="0" 
                       Text="Unity引擎" 
                       FontSize="24" 
                       Foreground="{ui:ThemeResource TextFillColorPrimaryBrush}"
                       FontWeight="Bold"/>
            
            <ui:Button Grid.Column="1" 
                       Content="添加引擎" 
                       Icon="{ui:SymbolIcon Add24}"
                       Appearance="Primary"
                       Click="AddEngine_Click"/>
        </Grid>

        <!-- 引擎列表 -->
        <ScrollViewer Grid.Row="1" 
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      Margin="20,0,20,20">
            <ItemsControl x:Name="EnginesList" ItemsSource="{Binding Engines}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <ui:Card Margin="0,0,0,10" Padding="15">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <ui:SymbolIcon Grid.Column="0" 
                                               Symbol="Settings24" 
                                               Margin="0,0,15,0"/>
                                
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="{Binding Version}" 
                                               FontWeight="Bold" 
                                               FontSize="16"/>
                                    <TextBlock Text="{Binding Path}" 
                                               Foreground="Gray" 
                                               Margin="0,5,0,0"/>
                                    <TextBlock Text="{Binding IsInstalled}" 
                                               Foreground="Blue" 
                                               Margin="0,5,0,0"/>
                                </StackPanel>
                                
                                <StackPanel Grid.Column="2" 
                                            Orientation="Horizontal">
                                    <ui:Button Content="打开文件夹" 
                                               Margin="0,0,5,0"
                                               Appearance="Primary"
                                               Click="OpenEngineFolder_Click"/>
                                    <ui:Button Content="移除" 
                                               Appearance="Secondary"
                                               Click="RemoveEngine_Click"/>
                                </StackPanel>
                            </Grid>
                        </ui:Card>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</Page>

